(()=>{"use strict";var e={753:function(e,r,t){var n,a=t(5893),l=t(7294),o=t(745),s=t(8106),i=t(9719),u=t(7884),c=t(7230),d=t(6881),f=((n={}).Success="success",n.Error="error",n);let p=e=>{let r=new FileReader;return new Promise((t,n)=>{r.readAsDataURL(e),r.onload=()=>{t(r.result.split(",")[1])},r.onerror=e=>n(e)})},g=(0,t(7637).N)({apiKey:"nr821rD83J23bAuKD9777rPqQqfxA0AA"}),v=async e=>{let{fileURL:r,targetFile:t}=e,n=(null==t?void 0:t.name)?await p(t):r;try{if(!n)throw Error("Please provide all required data");let e=await g.understand({source:(null==t?void 0:t.name)?"base64":"url",file:n,documentType:"image"});return console.log({result:e}),{status:f.Success,data:e}}catch(e){return{status:f.Error,data:{message:e.message}}}};var h=t(1035),m=t(483),j=t(7454);let x=e=>{let{defaultValue:r=[],setFile:t}=e,[n,a]=(0,l.useState)(r),o=(0,l.useRef)(null);(0,l.useEffect)(()=>{n.length?t(n[0]):t(null)},[n]),(0,l.useEffect)(()=>{if(n.length){let e=new DataTransfer;n.map(r=>e.items.add(r)),o.current.files=e.files}else o.current.value=""},[n]),(0,l.useEffect)(()=>{let e=o.current;return e.addEventListener("change",s),e.addEventListener("cancel",i),()=>{e.removeEventListener("change",s),e.removeEventListener("cancel",i)}},[]);let s=e=>{let r=e.target.files;r&&r.length>0?a(Array.from(r)):a([])},i=()=>{a([])};return{files:n,handleChange:s,handleRemove:e=>()=>{a(n.filter(r=>r.name!==e.name))},fileInputRef:o}},b=e=>{let{defaultValue:r,setFile:t,setFileURL:n}=e,{files:l,fileInputRef:o,handleRemove:s}=x({defaultValue:r?[r]:[],setFile:t});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.Z,{direction:"row",spacing:2,children:[(0,a.jsx)(m.Z,{fullWidth:!0,disabled:l.length,type:"url",name:"fileURL",label:"URL",onChange:e=>n(e.target.value)}),(0,a.jsxs)(c.Z,{component:"label",variant:"contained",tabIndex:-1,sx:{width:200,height:55},children:["Choose file",(0,a.jsx)("input",{style:{display:"none"},type:"file",name:"targetFile",accept:"image/*,application/pdf",ref:o})]})]}),null==l?void 0:l.map(e=>(0,a.jsxs)(i.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,a.jsx)("strong",{children:e.name}),(0,a.jsx)(h.Z,{"aria-label":"delete",onClick:s(e),color:"primary",children:(0,a.jsx)(j.Z,{})})]},e.name))]})};var y=t(5171),O=t.n(y),E=t(6847);let w=(0,E.ZP)("div")`
  padding: 16px;
  background-color: ${e=>{let{status:r}=e;return r===f.Error?"#f5dfe0":"#f1fff3"}};
  color: ${e=>{let{status:r}=e;return r===f.Error?"#4c0e16":"#01480a"}};
`,_=e=>{let{result:r}=e,{status:t,data:n}=r;return t===f.Error?(0,a.jsx)(w,{status:t,children:n.message||"An error occurred"}):(0,a.jsx)(w,{status:t,children:(0,a.jsx)(O(),{src:n})})},R=function(){let[e,r]=(0,l.useState)(!1),[t,n]=(0,l.useState)({status:"",data:""}),[o,s]=(0,l.useState)({fileURL:"",targetFile:null}),f=async e=>{e.preventDefault(),r(!0),n(await v({targetFile:o.targetFile,fileURL:o.fileURL})),r(!1)};return(0,a.jsxs)(i.Z,{paddingY:2,children:[(0,a.jsx)("h1",{children:"OCR AI Tool (Document Understanding lib)"}),(0,a.jsx)("form",{style:{marginBottom:20},onSubmit:f,children:(0,a.jsxs)(u.Z,{sx:{display:"flex",gap:2},children:[(0,a.jsx)(b,{defaultValue:o.targetFile,setFile:e=>{s({...o,targetFile:e})},setFileURL:e=>{s({...o,fileURL:e})}}),(0,a.jsx)(c.Z,{variant:"contained",type:"submit",disabled:e,children:"Process"})]})}),e&&(0,a.jsx)(d.Z,{}),!e&&t.status&&(0,a.jsx)(_,{result:t})]})};o.createRoot(document.getElementById("root")).render((0,a.jsx)(l.StrictMode,{children:(0,a.jsx)(()=>(0,a.jsx)(s.Z,{children:(0,a.jsx)(R,{})}),{})}))}},r={};function t(n){var a=r[n];if(void 0!==a)return a.exports;var l=r[n]={exports:{}};return e[n].call(l.exports,l,l.exports,t),l.exports}t.m=e,t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},(()=>{var e,r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;t.t=function(n,a){if(1&a&&(n=this(n)),8&a||"object"==typeof n&&n&&(4&a&&n.__esModule||16&a&&"function"==typeof n.then))return n;var l=Object.create(null);t.r(l);var o={};e=e||[null,r({}),r([]),r(r)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=r(s))Object.getOwnPropertyNames(s).forEach(e=>{o[e]=()=>n[e]});return o.default=()=>n,t.d(l,o),l}})(),t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];t.O=(r,n,a,l)=>{if(n){l=l||0;for(var o=e.length;o>0&&e[o-1][2]>l;o--)e[o]=e[o-1];e[o]=[n,a,l];return}for(var s=1/0,o=0;o<e.length;o++){for(var[n,a,l]=e[o],i=!0,u=0;u<n.length;u++)(!1&l||s>=l)&&Object.keys(t.O).every(e=>t.O[e](n[u]))?n.splice(u--,1):(i=!1,l<s&&(s=l));if(i){e.splice(o--,1);var c=a();void 0!==c&&(r=c)}}return r}})(),t.rv=()=>"1.3.1",(()=>{var e={980:0};t.O.j=r=>0===e[r];var r=(r,n)=>{var a,l,[o,s,i]=n,u=0;if(o.some(r=>0!==e[r])){for(a in s)t.o(s,a)&&(t.m[a]=s[a]);if(i)var c=i(t)}for(r&&r(n);u<o.length;u++)l=o[u],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(c)},n=self.webpackChunkocr_ai_tool=self.webpackChunkocr_ai_tool||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))})(),t.ruid="bundler=rspack@1.3.1";var n=t.O(void 0,["361","42"],function(){return t(753)});n=t.O(n)})();